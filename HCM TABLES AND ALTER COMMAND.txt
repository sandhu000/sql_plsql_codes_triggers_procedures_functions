
 ALTER TABLE "YT_ELIGIBILITY_OPTION" ADD CONSTRAINT "YT_ELIGIBILITY_OPTION_CMP_FK_CON" FOREIGN KEY ("CMP_ID")
	  REFERENCES "HR_ORGANIZATION" ("ORGANIZATION_ID") ENABLE;
  ALTER TABLE "YT_ELIGIBILITY_OPTION" ADD CONSTRAINT "YT_ELIGIBILITY_OPTION_YEAR_FK_CON" FOREIGN KEY ("YEAR_ID")
	  REFERENCES "HR_YEAR" ("YEAR_ID") ENABLE;
  ALTER TABLE "YT_ELIGIBILITY_OPTION" ADD CONSTRAINT "YT_ELIGIBILITY_OPTION_EMP_CON" FOREIGN KEY ("PERSON_ID")
	  REFERENCES "PER_PEOPLE_ALL" ("PERSON_ID") ENABLE;


CREATE OR REPLACE EDITIONABLE TRIGGER "YT_ELIGIBILITY_OPTION_AUDIT_PK" 
before
insert or update or delete on "YT_ELIGIBILITY_OPTION"
for each row
begin
    
   if inserting then
      if :NEW.ID is null then
         SELECT NVL(MAX(A.ID),0)+1 INTO :NEW.ID FROM  
YT_ELIGIBILITY_OPTIONA ;
      end if;
           :NEW.CREATED_DATE    := localtimestamp;
           :NEW.CREATED_BY := nvl(v('APP_USER'),USER);
   end if;
   if inserting or updating then
      :NEW.UPDATED_DATE    := localtimestamp;
      :NEW.UPDATED_BY := nvl(v('APP_USER'),USER);
   end if;